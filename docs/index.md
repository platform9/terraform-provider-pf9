---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "Terraform Provider for Pf9 PMK"
subcategory: ""
description: |-
  The Platform9 PMK terraform provider offers a streamlined solution for creating and managing kubernetes clusters.
---

# Pf9 Provider

The Pf9 Provider is a solution for creating and managing multiple clusters, attaching and detaching nodes, and managing the lifecycle of the clusters. The provider is built on top of the Platform9 Managed Kubernetes (PMK) platform, which is a managed Kubernetes service that provides a single pane of glass for managing multiple clusters.

## Authentication

To use this provider, set the following environment variables.

```bash
export DU_USERNAME=<Username>
export DU_PASSWORD=<Password>
export DU_FQDN=<FQDN>
export DU_TENANT=<Tenant Name>
```

## Example Usage

Declare the provider in your `main.tf`:

```terraform
terraform {
  required_providers {
    pf9 = {
      source  = "platform9/pf9"
      version = ">=0.3.0"
    }
  }
}

provider "pf9" {}
```

## Create Your First Cluster

In the same `main.tf` copy the following code and make necessary changes as per your infrastructure.

```terraform
# Used to manage cluster resource
resource "pf9_cluster" "example" {
  name = "example"
  master_nodes = [
    # node uuids of the nodes connected to PMK control plane
    "17f9b392-67bb-43b9-b0b7-3b5821f683a6",
    "7f5aa992-0abe-40a0-9bf9-6a06ebb9ccfd",
    "a17fa56d-722b-4f10-8b50-ffa5a4bed36e"
  ]
  allow_workloads_on_master = false
  worker_nodes = [
    "2bfbc40e-1d72-4bfc-a46b-56b674862cc7",
    "bbbd1c20-3cda-405d-ae4b-d0337fffd6e1"
  ]
  master_vip_ipv4              = "10.149.107.237"
  master_vip_iface             = "ens3"
  containers_cidr              = "10.20.0.0/16"
  services_cidr                = "10.21.0.0/16"
  interface_detection_method   = "InterfaceName"
  interface_name               = "ens3"
  network_plugin               = "calico"
  calico_ipv4_detection_method = "interface=ens3"
  etcd_backup = {
    daily = {
      backup_time = "02:00"
    }
  }
  tags = {
    "key1" = "value1"
  }
}
```

Run `terraform init` and then `terraform apply`